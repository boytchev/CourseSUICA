<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<script src="suica.js"></script>
</head>

<body>
	<suica fullWindow ontime="loop">
		<orbit>
	</suica>
	
	<script>
		// форма 1
		a = cube( [-40,-10,0], [10,50,50], hsl(10,100,50) ).style({wireframe:true, spin:[20,80,45]});

		// форма 2
		b = cube( [30,10,0], [40,7,10], hsl(-110,100,50) ).style({wireframe:true, spin:[60,-75,0]});

		// подвижна форма
		c = cube( [0,0,0],[1,1,1]);

		function loop( t )
		{
			// въртене на двете крайни форми
			a.spinH = (20*t) % 360;
			b.spinH = (27*t) % 360;
			
			// коефициент на преход
			var k = 0.5 + 0.5*Math.sin( 2*t );

			// определяне на центъра, размера, ориентацията
			// и цветът на подвижната форма като линейна
			// комбинация на параметрите на крайните форми
			c.center = lerp( a, b, k );
			c.size = lerp( a.size, b.size, k );
			c.spin = lerp( a.spin, b.spin, k );
			c.color = lerp( a.color, b.color, k );
		}
	</script>
</body>
