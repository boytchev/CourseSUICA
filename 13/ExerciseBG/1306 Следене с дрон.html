<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<script src="suica.js"></script>
</head>

<body>
	<suica fullWindow onTime="loop">
		<oxyz>
		
		<!-- сфера и сферична зона -->
		<sphere size="30" color="orange">
		<sphere id="zone" size="13">
		
		<!-- кръгче с "X" -->
		<drawing id="ix" size="30">
			<arc x="15" y="15" radius="15">
			<fill color="black">
			<fillText x="8" y="7" text="X" color="white" font="20px Arial">
		</drawing>
		<point id="x" x="30" size="8" color="white" image="ix">
		
		<!-- кръгче с "Y" -->
		<drawing id="iy" size="30">
			<arc x="15" y="15" radius="15">
			<fill color="black">
			<fillText x="8" y="7" text="Y" color="white" font="20px Arial">
		</drawing>
		<point id="y" y="30" size="8" color="white" image="iy">

		<!-- кръгче с "Z" -->
		<drawing id="iz" size="30">
			<arc x="15" y="15" radius="15">
			<fill color="black">
			<fillText x="9" y="7" text="Z" color="white" font="20px Arial">
		</drawing>
		<point id="z" z="30" size="8" color="white" image="iz">
	</suica>
	
	<script>
		// подутини на сферата
		n = 100;
		for( var i=0; i<n; i++ )
			sphere( randomOn(zone), 19, 'orange' );
			
		// подвижен обект
		ball = sphere( [0,0,0], 5, 'black' );
		
		function loop( t )
		{
			// забавяне на времето
			t = 0.2*t;
			
			// ъгли на сферичните координати на подвижната топка
			alpha = 1.7*(Math.sin(t)+Math.cos(1.2*t)+Math.sin(4.7*t));
			beta = 1.3*(Math.cos(t)+Math.sin(1.2*t)+Math.cos(4.7*t));
			
			// декартови координати на подвижната топка
			ball.x = 17*Math.cos(alpha)*Math.cos(beta);
			ball.y = 17*Math.sin(alpha)*Math.cos(beta);
			ball.z = 17*Math.sin(beta);
			
			// гледна точка, свързана с положениети на топката
			lookAt( [5*ball.x,5*ball.y,5*ball.z], ball, [0,1,0] );
		}
	</script>
</head>

